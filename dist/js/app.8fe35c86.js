(function(){"use strict";var t={1285:function(t,e,a){var s=a(5130),n=a(6768),l=a(4232);const r={class:"wrapper"},i={class:"right-panel"},o={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},p={key:1},h={key:2},g={key:3},k={key:4,class:"welcome-message"},m={key:5},v={key:6};function f(t,e,a,s,f,L){const b=(0,n.g2)("router-view"),y=(0,n.g2)("TheWelcome"),_=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",null,[(0,n.Lk)("div",r,[(0,n.bF)(b)]),e[1]||(e[1]=(0,n.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap",rel:"stylesheet"},null,-1))]),(0,n.Lk)("main",null,[(0,n.bF)(y)]),(0,n.Lk)("aside",i,[(0,n.Lk)("div",o,[(0,n.bF)(_,{to:"/"},{default:(0,n.k6)((()=>e[2]||(e[2]=[(0,n.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,n.Lk)("nav",c,[(0,n.Lk)("ul",d,[(0,n.Lk)("li",null,[(0,n.bF)(_,{to:"/",class:"button"},{default:(0,n.k6)((()=>e[3]||(e[3]=[(0,n.eW)("Главная")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(_,{to:"/about",class:"button"},{default:(0,n.k6)((()=>e[4]||(e[4]=[(0,n.eW)("О нас")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(_,{to:"/contact",class:"button"},{default:(0,n.k6)((()=>e[5]||(e[5]=[(0,n.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,n.uX)(),(0,n.CE)("li",u,[(0,n.bF)(_,{to:"/repairs",class:"button"},{default:(0,n.k6)((()=>e[6]||(e[6]=[(0,n.eW)("Ремонты")]))),_:1})])):(0,n.Q3)("",!0),f.isAuthenticated?((0,n.uX)(),(0,n.CE)("li",p,[(0,n.bF)(_,{to:"/clients",class:"button"},{default:(0,n.k6)((()=>e[7]||(e[7]=[(0,n.eW)("Клиенты")]))),_:1})])):(0,n.Q3)("",!0),f.isAuthenticated?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",h,[(0,n.bF)(_,{to:"/login",class:"button"},{default:(0,n.k6)((()=>e[8]||(e[8]=[(0,n.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",g,[(0,n.bF)(_,{to:"/register",class:"button"},{default:(0,n.k6)((()=>e[9]||(e[9]=[(0,n.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,n.uX)(),(0,n.CE)("li",k,[(0,n.Lk)("span",null,"Добро пожаловать, "+(0,l.v_)(f.username),1)])):(0,n.Q3)("",!0),f.isAuthenticated?((0,n.uX)(),(0,n.CE)("li",m,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>L.logout&&L.logout(...t)),class:"button"},"Выйти")])):(0,n.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,n.uX)(),(0,n.CE)("li",v,e[10]||(e[10]=[(0,n.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,n.Q3)("",!0)])])])],64)}a(4114);var L={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const t=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),e=await t.json();t.ok?(this.isAuthenticated=!0,this.username=e.username||"Пользователь",this.role=e.role||""):(console.error("Токен недействителен:",e.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(t){console.error("Ошибка проверки авторизации:",t),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const t=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});t.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(t){console.error("Ошибка выхода:",t),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},b=a(1241);const y=(0,b.A)(L,[["render",f],["__scopeId","data-v-76c249fc"]]);var _=y,w=a(1387);const x={class:"fade-in"},E={class:"container"},C={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},P=["src","alt"],A={class:"card-body"},X={class:"text-xl font-bold text-center mb-3"},$={class:"card-text text-center"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"},W={class:"content-block card fade-in",style:{animationDelay:"0.4s"}},N={class:"text-lg space-y-4"},j={class:"text-gray-600"};function F(t,e,a,s,r,i){return(0,n.uX)(),(0,n.CE)("main",x,[(0,n.Lk)("div",E,[e[3]||(e[3]=(0,n.Lk)("h1",{class:"page-title"},'Добро пожаловать в сервис "ХолодМастер"',-1)),e[4]||(e[4]=(0,n.Lk)("p",{class:"fs-5 text-center mb-10 italic",align:"center"},"Быстро. Качественно. Надежно.",-1)),(0,n.Lk)("div",C,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.services,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"image-block-centered card fade-in",key:e,style:(0,l.Tr)({animationDelay:.2*e+"s"})},[(0,n.Lk)("img",{src:t.image,alt:t.name,class:"img-block h-48 w-full object-cover"},null,8,P),(0,n.Lk)("div",A,[(0,n.Lk)("h5",X,(0,l.v_)(t.name),1),(0,n.Lk)("p",$,(0,l.v_)(t.description),1)])],4)))),128))]),(0,n.Lk)("div",T,[e[2]||(e[2]=(0,n.Lk)("div",{class:"content-block card fade-in",style:{animationDelay:"0.2s"}},[(0,n.Lk)("h4",{class:"text-2xl font-bold mb-4"},"О сервисе"),(0,n.Lk)("p",{class:"text-gray-600"},' Сервис "ХолодМастер" — это команда профессионалов, специализирующихся на ремонте холодильников более 10 лет. Мы работаем с любыми марками и моделями. '),(0,n.Lk)("p",{class:"text-gray-600"}," Наши мастера оперативно устранят неисправности, используя только качественные запчасти. Мы ценим ваше время и комфорт. ")],-1)),(0,n.Lk)("div",W,[e[1]||(e[1]=(0,n.Lk)("h4",{class:"text-2xl font-bold mb-4"},"Почему мы?",-1)),(0,n.Lk)("ul",N,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.reasons,((t,a)=>((0,n.uX)(),(0,n.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,l.Tr)({animationDelay:.2*(a+1)+"s"})},[e[0]||(e[0]=(0,n.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,n.Lk)("span",j,(0,l.v_)(t),1)],4)))),128))])])])])])}a(8111),a(7588);var I={name:"HomePage",data(){return{services:[{name:"Заправка фреона",description:"Профессиональная заправка хладагента для всех типов холодильников. Устранение утечек с гарантией.",image:"/img/2.jpeg"},{name:"Замена компрессора",description:"Быстрая замена компрессоров на холодильниках Bosch, Samsung, LG и других. Срок ремонта от 1 дня.",image:"/img/3.png"},{name:"Ремонт платы управления",description:"Диагностика и ремонт плат управления. Работаем с моделями всех популярных брендов.",image:"/img/1.jpg"}],reasons:["Быстрый ремонт","Гарантия на все услуги","Качественные запчасти","Приемлемые цены","Бесплатная диагностика"]}},mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)}))}};const O=(0,b.A)(I,[["render",F],["__scopeId","data-v-306240f8"]]);var Q=O;const S={class:"fade-in"},U={class:"container"},M={class:"content-block",ref:"block1"},D={class:"content-block",ref:"block2"};function R(t,e,a,s,l,r){return(0,n.uX)(),(0,n.CE)("main",S,[(0,n.Lk)("div",U,[e[2]||(e[2]=(0,n.Lk)("h1",{class:"page-title"},"Ремонт холодильников",-1)),e[3]||(e[3]=(0,n.Lk)("p",{class:"fs-5 text-center mb-10 italic"},"Быстро. Качественно. Надежно.",-1)),(0,n.Lk)("div",M,e[0]||(e[0]=[(0,n.Lk)("div",{class:"text-block"},[(0,n.Lk)("h2",{class:"text-2xl font-bold mb-4"},'Добро пожаловать в сервис "ХолодМастер"'),(0,n.Lk)("p",{class:"fs-5"}," Мы специализируемся на ремонте холодильников всех популярных брендов: Bosch, Samsung, LG, Indesit, Liebherr и других. Наши мастера выполнят диагностику и ремонт вашего устройства быстро и качественно. ")],-1)]),512),(0,n.Lk)("div",D,e[1]||(e[1]=[(0,n.Fv)('<div class="text-block" data-v-753d42d4><h2 class="text-2xl font-bold mb-4 text-center" data-v-753d42d4>Наши работы</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6" data-v-753d42d4><div class="image-block photo-card fade-in" style="animation-delay:0.2s;" data-v-753d42d4><img src="/img/1.jpg" alt="Ремонт платы" class="img-block" data-v-753d42d4><div class="text-center pt-4" data-v-753d42d4><span class="text-gray-600" data-v-753d42d4>Ремонт платы управления</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:0.4s;" data-v-753d42d4><img src="/img/2.jpeg" alt="Заправка фреона" class="img-block" data-v-753d42d4><div class="text-center pt-4" data-v-753d42d4><span class="text-gray-600" data-v-753d42d4>Заправка фреона</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:0.6s;" data-v-753d42d4><img src="/img/3.png" alt="Замена компрессора" class="img-block" data-v-753d42d4><div class="text-center pt-4" data-v-753d42d4><span class="text-gray-600" data-v-753d42d4>Замена компрессора</span></div></div></div>',2)]),512)])])}var q={name:"AboutPage",mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)}))}};const G=(0,b.A)(q,[["render",R],["__scopeId","data-v-753d42d4"]]);var H=G;const J={class:"fade-in"},V={class:"container"},K={class:"mb-12"},B={class:"employees-row"},z={class:"card"},Z=["src","alt"],Y={class:"card-body"},tt={class:"card-title"},et={class:"card-text"};function at(t,e,a,s,r,i){return(0,n.uX)(),(0,n.CE)("main",J,[(0,n.Lk)("div",V,[e[1]||(e[1]=(0,n.Fv)('<h1 class="page-title" data-v-52475504>Наша команда</h1><div class="content-block fade-in mb-12" data-v-52475504><div class="text-block" data-v-52475504><h2 class="text-2xl font-bold text-center mb-4" data-v-52475504>О нашем сервисе</h2><p class="fs-5 text-center" data-v-52475504> Сервис &quot;ХолодМастер&quot; — это профессиональный ремонт холодильников любых марок: Bosch, Samsung, LG, Indesit, Liebherr и других. Мы используем только качественные запчасти и предоставляем гарантию на все работы. </p></div></div>',2)),(0,n.Lk)("div",K,[e[0]||(e[0]=(0,n.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наши сотрудники",-1)),(0,n.Lk)("div",B,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.employees,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)(["employee-card photo-card",{"fade-in":!0}]),key:e,style:(0,l.Tr)({animationDelay:.2*e+"s"})},[(0,n.Lk)("div",z,[(0,n.Lk)("img",{src:t.image,alt:t.name,class:"card-img-top"},null,8,Z),(0,n.Lk)("div",Y,[(0,n.Lk)("h3",tt,(0,l.v_)(t.name),1),(0,n.Lk)("p",et,(0,l.v_)(t.role),1)])])],4)))),128))])]),e[2]||(e[2]=(0,n.Fv)('<div class="content-block fade-in" data-v-52475504><div class="text-block" data-v-52475504><h2 class="text-2xl font-bold text-center mb-6" data-v-52475504>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-52475504><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-52475504><h3 class="text-xl font-bold mb-2" data-v-52475504>+ Диагностика</h3><p class="text-gray-600" data-v-52475504>Бесплатная диагностика неисправностей холодильников.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-52475504><h3 class="text-xl font-bold mb-2" data-v-52475504>+ Заправка фреона</h3><p class="text-gray-600" data-v-52475504>Профессиональная заправка и устранение утечек хладагента.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-52475504><h3 class="text-xl font-bold mb-2" data-v-52475504>+ Замена компрессора</h3><p class="text-gray-600" data-v-52475504>Замена и ремонт компрессоров для всех моделей холодильников.</p></div></div></div>',1))])])}var st={name:"ContactPage",data(){return{employees:[{name:"Иванов Алексей Сергеевич",role:"Ведущий мастер по ремонту холодильников",image:"/img/11.png"},{name:"Ковалёв Сергей Викторович",role:"Специалист по диагностике",image:"/img/22.png"},{name:"Сидоров Дмитрий Иванович",role:"Техник по ремонту компрессоров",image:"/img/33.png"},{name:"Козлов Андрей Юрьевич",role:"Менеджер по работе с клиентами",image:"/img/44.png"},{name:"Морозов Павел Николаевич",role:"Специалист по заправке фреона",image:"/img/55.png"},{name:"Смирнов Олег Петрович",role:"Администратор сервиса",image:"/img/66.jpeg"}]}},mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)}))}};const nt=(0,b.A)(st,[["render",at],["__scopeId","data-v-52475504"]]);var lt=nt;const rt={class:"app-container"},it={style:{"text-align":"center","margin-bottom":"20px"}},ot={class:"table-container"},ct={class:"styled-table clients-table"},dt=["src"],ut={key:1},pt={class:"action-buttons"},ht={key:0,class:"no-data"},gt={key:1,class:"pagination"},kt=["disabled"],mt=["disabled"];function vt(t,e,a,s,r,i){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[e[6]||(e[6]=(0,n.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,n.Lk)("div",rt,[e[5]||(e[5]=(0,n.Lk)("h1",{class:"page-title"},"Список клиентов",-1)),(0,n.Lk)("div",it,[(0,n.bF)(o,{to:"/clients/create",class:"btn-primary"},{default:(0,n.k6)((()=>e[2]||(e[2]=[(0,n.eW)("Добавить клиента")]))),_:1})]),(0,n.Lk)("div",ot,[(0,n.Lk)("table",ct,[e[4]||(e[4]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"Имя"),(0,n.Lk)("th",null,"Фамилия"),(0,n.Lk)("th",null,"Телефон"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"Адрес"),(0,n.Lk)("th",null,"Заметки"),(0,n.Lk)("th",null,[(0,n.eW)("Предпочитаемый"),(0,n.Lk)("br"),(0,n.eW)("способ связи")]),(0,n.Lk)("th",null,"Фото"),(0,n.Lk)("th",null,"Действия")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.clients,((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id},[(0,n.Lk)("td",null,(0,l.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,n.Lk)("td",null,(0,l.v_)(t.first_name||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.last_name||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.phone||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.email||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.address||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.notes||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.preferred_contact||"N/A"),1),(0,n.Lk)("td",null,[t.photo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:`${r.backendUrl}${t.photo.replace("/img/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,dt)):((0,n.uX)(),(0,n.CE)("span",ut,"N/A"))]),(0,n.Lk)("td",null,[(0,n.Lk)("div",pt,[(0,n.bF)(o,{to:`/clients/view/${t.id}`,class:"action-btn view-icon"},{default:(0,n.k6)((()=>e[3]||(e[3]=[(0,n.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),r.clients.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("p",ht,"Нет клиентов")),r.totalPages>1?((0,n.uX)(),(0,n.CE)("div",gt,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.prevPage&&i.prevPage(...t)),disabled:1===r.currentPage},"← Предыдущая",8,kt),(0,n.Lk)("span",null,"Страница "+(0,l.v_)(r.currentPage)+" из "+(0,l.v_)(r.totalPages),1),(0,n.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>i.nextPage&&i.nextPage(...t)),disabled:r.currentPage===r.totalPages},"Следующая →",8,mt)])):(0,n.Q3)("",!0)])])])}var ft={data(){return{clients:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchClients()},methods:{async fetchClients(){try{const t=await fetch(`${this.backendUrl}/api/clients?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.clients=e.clients||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Error fetching clients:",t),this.clients=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchClients())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchClients())}}};const Lt=(0,b.A)(ft,[["render",vt],["__scopeId","data-v-143c17ee"]]);var bt=Lt;const yt={class:"app-container"},_t={style:{"text-align":"center","margin-bottom":"20px"}},wt={class:"table-container"},xt={class:"styled-table repairs-table"},Et=["src"],Ct={key:1},Pt={class:"action-buttons"},At={key:0,class:"no-data"},Xt={key:1,class:"pagination"},$t=["disabled"],Tt=["disabled"];function Wt(t,e,a,s,r,i){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[e[6]||(e[6]=(0,n.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,n.Lk)("div",yt,[e[5]||(e[5]=(0,n.Lk)("h1",{class:"page-title"},"Список ремонтов",-1)),(0,n.Lk)("div",_t,[(0,n.bF)(o,{to:"/repairs/create",class:"btn-primary"},{default:(0,n.k6)((()=>e[2]||(e[2]=[(0,n.eW)("Добавить ремонт")]))),_:1})]),(0,n.Lk)("div",wt,[(0,n.Lk)("table",xt,[e[4]||(e[4]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"Имя клиента"),(0,n.Lk)("th",null,"Тип холодильника"),(0,n.Lk)("th",null,"Бренд"),(0,n.Lk)("th",null,"Модель"),(0,n.Lk)("th",null,"Описание неисправности"),(0,n.Lk)("th",null,"Стоимость ремонта"),(0,n.Lk)("th",null,"Статус"),(0,n.Lk)("th",null,"Фото"),(0,n.Lk)("th",null,"Действия")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.repairs,((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id},[(0,n.Lk)("td",null,(0,l.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,n.Lk)("td",null,(0,l.v_)(t.client_name||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.type||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.brand||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.model||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.issue_description||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.repair_cost||"N/A"),1),(0,n.Lk)("td",null,(0,l.v_)(t.status||"N/A"),1),(0,n.Lk)("td",null,[t.photo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:`${r.backendUrl}${t.photo.replace("/img/","/images/")}`,alt:"Repair Photo",class:"product-image"},null,8,Et)):((0,n.uX)(),(0,n.CE)("span",Ct,"N/A"))]),(0,n.Lk)("td",null,[(0,n.Lk)("div",Pt,[(0,n.bF)(o,{to:`/repairs/view/${t.id}`,class:"action-btn view-icon"},{default:(0,n.k6)((()=>e[3]||(e[3]=[(0,n.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),r.repairs.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("p",At,"Нет ремонтов")),r.totalPages>1?((0,n.uX)(),(0,n.CE)("div",Xt,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.prevPage&&i.prevPage(...t)),disabled:1===r.currentPage},"← Предыдущая",8,$t),(0,n.Lk)("span",null,"Страница "+(0,l.v_)(r.currentPage)+" из "+(0,l.v_)(r.totalPages),1),(0,n.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>i.nextPage&&i.nextPage(...t)),disabled:r.currentPage===r.totalPages},"Следующая →",8,Tt)])):(0,n.Q3)("",!0)])])])}var Nt={data(){return{repairs:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchRepairs()},methods:{async fetchRepairs(){try{const t=await fetch(`${this.backendUrl}/api/repairs?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.repairs=e.repairs||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Error fetching repairs:",t),this.repairs=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchRepairs())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchRepairs())}}};const jt=(0,b.A)(Nt,[["render",Wt],["__scopeId","data-v-555efba7"]]);var Ft=jt;const It={class:"container"},Ot={class:"form-group"},Qt={class:"form-group"},St={key:0,class:"error"};function Ut(t,e,a,r,i,o){return(0,n.uX)(),(0,n.CE)("div",It,[e[6]||(e[6]=(0,n.Lk)("h2",null,"Вход",-1)),(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>o.login&&o.login(...t)),["prevent"]))},[(0,n.Lk)("div",Ot,[e[3]||(e[3]=(0,n.Lk)("label",{for:"email"},"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t),required:"",class:"form-input"},null,512),[[s.Jo,i.email]])]),(0,n.Lk)("div",Qt,[e[4]||(e[4]=(0,n.Lk)("label",{for:"password"},"Пароль:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),required:"",class:"form-input"},null,512),[[s.Jo,i.password]])]),e[5]||(e[5]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),i.error?((0,n.uX)(),(0,n.CE)("p",St,(0,l.v_)(i.error),1)):(0,n.Q3)("",!0)],32)])}var Mt={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();console.log("Login response:",e),t.ok?(localStorage.setItem("token",e.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=e.message||"Ошибка входа"}catch(t){console.error("Error during login:",t),this.error="Ошибка сервера"}}}};const Dt=(0,b.A)(Mt,[["render",Ut],["__scopeId","data-v-0c964ea8"]]);var Rt=Dt;const qt={class:"container"},Gt={class:"form-group"},Ht={class:"form-group"},Jt={class:"form-group"},Vt={key:0,class:"error"};function Kt(t,e,a,r,i,o){return(0,n.uX)(),(0,n.CE)("div",qt,[e[8]||(e[8]=(0,n.Lk)("h2",null,"Регистрация",-1)),(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,s.D$)(((...t)=>o.register&&o.register(...t)),["prevent"]))},[(0,n.Lk)("div",Gt,[e[4]||(e[4]=(0,n.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t),required:"",class:"form-input"},null,512),[[s.Jo,i.username]])]),(0,n.Lk)("div",Ht,[e[5]||(e[5]=(0,n.Lk)("label",{for:"email"},"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>i.email=t),required:"",class:"form-input"},null,512),[[s.Jo,i.email]])]),(0,n.Lk)("div",Jt,[e[6]||(e[6]=(0,n.Lk)("label",{for:"password"},"Пароль:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>i.password=t),required:"",class:"form-input"},null,512),[[s.Jo,i.password]])]),e[7]||(e[7]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),i.error?((0,n.uX)(),(0,n.CE)("p",Vt,(0,l.v_)(i.error),1)):(0,n.Q3)("",!0)],32)])}var Bt={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),e=await t.json();console.log("Registration response:",e),t.ok?this.$router.push("/login"):this.error=e.message||"Ошибка регистрации"}catch(t){console.error("Error during registration:",t),this.error="Ошибка сервера"}}}};const zt=(0,b.A)(Bt,[["render",Kt],["__scopeId","data-v-4c6411a6"]]);var Zt=zt;const Yt={class:"app-container"},te={key:0,class:"loading-message"},ee={key:1,class:"error-message"},ae={key:2,class:"client-details"},se={class:"product-image-container"},ne=["src"],le={key:1},re={class:"client-info"},ie={class:"action-buttons"},oe={key:3,class:"error-message"};function ce(t,e,a,s,r,i){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Yt,[e[9]||(e[9]=(0,n.Lk)("h1",{class:"page-title"},"Просмотр клиента",-1)),r.loading?((0,n.uX)(),(0,n.CE)("div",te,"Загрузка данных...")):r.errorMessage?((0,n.uX)(),(0,n.CE)("div",ee,(0,l.v_)(r.errorMessage),1)):r.client?((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.Lk)("div",se,[r.client.photo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:`${r.backendUrl}${r.client.photo.replace("/img/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,ne)):((0,n.uX)(),(0,n.CE)("span",le,"Нет изображения"))]),(0,n.Lk)("div",re,[(0,n.Lk)("p",null,[e[1]||(e[1]=(0,n.Lk)("strong",null,"Имя:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.first_name||"N/A"),1)]),(0,n.Lk)("p",null,[e[2]||(e[2]=(0,n.Lk)("strong",null,"Фамилия:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.last_name||"N/A"),1)]),(0,n.Lk)("p",null,[e[3]||(e[3]=(0,n.Lk)("strong",null,"Телефон:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.phone||"N/A"),1)]),(0,n.Lk)("p",null,[e[4]||(e[4]=(0,n.Lk)("strong",null,"Email:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.email||"N/A"),1)]),(0,n.Lk)("p",null,[e[5]||(e[5]=(0,n.Lk)("strong",null,"Адрес:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.address||"N/A"),1)]),(0,n.Lk)("p",null,[e[6]||(e[6]=(0,n.Lk)("strong",null,"Заметки:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.notes||"N/A"),1)]),(0,n.Lk)("p",null,[e[7]||(e[7]=(0,n.Lk)("strong",null,"Предпочитаемый способ связи:",-1)),(0,n.eW)(" "+(0,l.v_)(r.client.preferred_contact||"N/A"),1)])]),(0,n.Lk)("div",ie,[(0,n.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/clients"))},"Вернуться к списку"),(0,n.bF)(o,{to:`/clients/edit/${r.client.id}`,class:"btn-primary"},{default:(0,n.k6)((()=>e[8]||(e[8]=[(0,n.eW)("Редактировать")]))),_:1},8,["to"])])])):((0,n.uX)(),(0,n.CE)("div",oe,"Не удалось загрузить данные о клиенте."))])}var de={data(){return{client:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchClient(t)},methods:{async fetchClient(t){try{const e=await fetch(`${this.backendUrl}/api/view-client/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Клиент не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.client=a}catch(e){console.error("Ошибка при получении данных клиента:",e),this.errorMessage=e.message}finally{this.loading=!1}}}};const ue=(0,b.A)(de,[["render",ce],["__scopeId","data-v-1863af2c"]]);var pe=ue;const he={class:"app-container"},ge={key:0,class:"loading-message"},ke={key:1,class:"error-message"},me={key:2,class:"repair-details"},ve={class:"product-image-container"},fe=["src"],Le={key:1},be={class:"repair-info"},ye={class:"action-buttons"},_e={key:3,class:"error-message"};function we(t,e,a,s,r,i){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",he,[e[9]||(e[9]=(0,n.Lk)("h1",{class:"page-title"},"Просмотр ремонта",-1)),r.loading?((0,n.uX)(),(0,n.CE)("div",ge,"Загрузка данных...")):r.errorMessage?((0,n.uX)(),(0,n.CE)("div",ke,(0,l.v_)(r.errorMessage),1)):r.repair?((0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",ve,[r.repair.photo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:`${r.backendUrl}${r.repair.photo.replace("/img/","/images/")}`,alt:"Repair Photo",class:"product-image"},null,8,fe)):((0,n.uX)(),(0,n.CE)("span",Le,"Нет изображения"))]),(0,n.Lk)("div",be,[(0,n.Lk)("p",null,[e[1]||(e[1]=(0,n.Lk)("strong",null,"Имя клиента:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.client_name||"N/A"),1)]),(0,n.Lk)("p",null,[e[2]||(e[2]=(0,n.Lk)("strong",null,"Тип холодильника:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.type||"N/A"),1)]),(0,n.Lk)("p",null,[e[3]||(e[3]=(0,n.Lk)("strong",null,"Бренд:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.brand||"N/A"),1)]),(0,n.Lk)("p",null,[e[4]||(e[4]=(0,n.Lk)("strong",null,"Модель:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.model||"N/A"),1)]),(0,n.Lk)("p",null,[e[5]||(e[5]=(0,n.Lk)("strong",null,"Описание неисправности:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.issue_description||"N/A"),1)]),(0,n.Lk)("p",null,[e[6]||(e[6]=(0,n.Lk)("strong",null,"Стоимость ремонта:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.repair_cost||"N/A"),1)]),(0,n.Lk)("p",null,[e[7]||(e[7]=(0,n.Lk)("strong",null,"Статус:",-1)),(0,n.eW)(" "+(0,l.v_)(r.repair.status||"N/A"),1)])]),(0,n.Lk)("div",ye,[(0,n.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/repairs"))},"Вернуться к списку"),(0,n.bF)(o,{to:`/repairs/edit/${r.repair.id}`,class:"btn-primary"},{default:(0,n.k6)((()=>e[8]||(e[8]=[(0,n.eW)("Редактировать")]))),_:1},8,["to"])])])):((0,n.uX)(),(0,n.CE)("div",_e,"Не удалось загрузить данные о ремонте."))])}var xe={data(){return{repair:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchRepair(t)},methods:{async fetchRepair(t){try{const e=await fetch(`${this.backendUrl}/api/view-repair/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Ремонт не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.repair=a}catch(e){console.error("Ошибка при получении данных ремонта:",e),this.errorMessage=e.message}finally{this.loading=!1}}}};const Ee=(0,b.A)(xe,[["render",we],["__scopeId","data-v-0e47eff2"]]);var Ce=Ee;const Pe=[{path:"/",component:Q},{path:"/about",component:H},{path:"/contact",component:lt},{path:"/clients",component:bt},{path:"/repairs",component:Ft},{path:"/login",component:Rt},{path:"/register",component:Zt},{path:"/view-client/:id",component:pe},{path:"/view-repair/:id",component:Ce}],Ae=(0,w.aE)({history:(0,w.LA)(),routes:Pe});var Xe=Ae;const $e=(0,s.Ef)(_);$e.use(Xe),$e.mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,a),l.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,l){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],n=t[d][1],l=t[d][2];for(var i=!0,o=0;o<s.length;o++)(!1&l||r>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[o])}))?s.splice(o--,1):(i=!1,l<r&&(r=l));if(i){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,n,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,l,r=s[0],i=s[1],o=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(o)var d=o(a)}for(e&&e(s);c<r.length;c++)l=r[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1285)}));s=a.O(s)})();
//# sourceMappingURL=app.8fe35c86.js.map